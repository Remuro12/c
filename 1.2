#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
#define int unsigned long long int
signed main()
{
    int a, b, m;
    scanf("%llu", &a);
    scanf("%llu", &b);
    scanf("%llu", &m);
    int bc = b;
    int bbin[63], u = 0;
    while (bc != 0)
    {
        bbin[u] = bc % 2;
        bc = bc / 2;
        ++u;
    }
    int ans = bbin[62] * a * 2;
    for (int i = 1; i < 63; ++i)
    {
        ans = (((ans % m) * 2) % m + (bbin[62 - i] * a) % m) % m;
    }
    printf("%llu", ans);
} // 1.2
